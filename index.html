<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Ivan Bagaturiya</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="center-toggle">
      <div class="switch">
        <label for="bubbleToggle">
          <input id="bubbleToggle" type="checkbox" />
          <div class="sun-moon">
            <div class="dots"></div>
          </div>
          <div class="background">
            <div class="stars1"></div>
            <div class="stars2"></div>
          </div>
          <div class="fill"></div>
        </label>
      </div>
    </div>

    <div class="filter-bar" id="filterBar">
      <button class="filter-btn" data-filter="#selected">#SELECTED</button>
      <button class="filter-btn" data-filter="#architecture">
        #ARCHITECTURE
      </button>
      <button class="filter-btn" data-filter="#tech">#TECH</button>
      <button class="filter-btn" data-filter="#art">#ART</button>
      <button class="filter-btn" data-filter="#music">#MUSIC</button>
    </div>

    <main class="main">
      <div class="grid" id="projectGrid">
        <a
          class="project"
          data-project="0053"
          data-hashtags="#selected #architecture #eth #tech"
          href="project0053.html"
        >
          <img src="projects/0053/icon.svg" alt="icon" class="project-logo" />
          <span class="project-label">0053</span>
        </a>

        <a
          class="project"
          data-project="0051"
          data-hashtags="#selected #architecture #eth #tech"
          href="project0051.html"
        >
          <img src="projects/0051/icon.svg" alt="icon" class="project-logo" />
          <span class="project-label">0051</span>
        </a>

        <a class="project" data-project="0010" data-hashtags="" href="project0010.html">
          <img src="projects/0010/icon.svg" alt="icon" class="project-logo" />
          <span class="project-label">0010</span>
        </a>

        <a class="project" data-project="0009" data-hashtags="" href="project0009.html">
          <img src="projects/0009/icon.svg" alt="icon" class="project-logo" />
          <span class="project-label">0009</span>
        </a>

        <a class="project" data-project="0008" data-hashtags="" href="project0008.html">
          <img src="projects/0008/icon.svg" alt="icon" class="project-logo" />
          <span class="project-label">0008</span>
        </a>

        <a class="project" data-project="0007" data-hashtags="" href="project0007.html">
          <img src="projects/0007/icon.svg" alt="icon" class="project-logo" />
          <span class="project-label">0007</span>
        </a>

        <a class="project" data-project="0006" data-hashtags="" href="project0006.html">
          <img src="projects/0006/icon.svg" alt="icon" class="project-logo" />
          <span class="project-label">0006</span>
        </a>

        <a class="project" data-project="0005" data-hashtags="" href="project0005.html">
          <img src="projects/0005/icon.svg" alt="icon" class="project-logo" />
          <span class="project-label">0005</span>
        </a>

        <a class="project" data-project="0004" data-hashtags="" href="project0004.html">
          <img src="projects/0004/icon.svg" alt="icon" class="project-logo" />
          <span class="project-label">0004</span>
        </a>

        <a class="project" data-project="0003" data-hashtags="" href="project0003.html">
          <img src="projects/0003/icon.svg" alt="icon" class="project-logo" />
          <span class="project-label">0003</span>
        </a>

        <a class="project" data-project="0002" data-hashtags="" href="project0002.html">
          <img src="projects/0002/icon.svg" alt="icon" class="project-logo" />
          <span class="project-label">0002</span>
        </a>

        <a class="project" data-project="0001" data-hashtags="" href="project0001.html">
          <img src="projects/0001/icon.svg" alt="icon" class="project-logo" />
          <span class="project-label">0001</span>
        </a>
      </div>
    </main>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.19.0/matter.min.js"></script>
    <script src="script.js"></script>
    <script>
      // Dynamically set icon file extension for each project
      (function() {
        const exts = ["svg", "png", "jpg", "jpeg", "gif", "pdf"];
        document.querySelectorAll('.project').forEach(project => {
          const projectNum = project.getAttribute('data-project');
          const img = project.querySelector('img.project-logo');
          if (!projectNum || !img) return;
          (function tryNext(i) {
            if (i >= exts.length) return;
            const url = `projects/${projectNum}/icon.${exts[i]}`;
            fetch(url, { method: 'HEAD' }).then(r => {
              if (r.ok) img.src = url;
              else tryNext(i+1);
            }).catch(() => tryNext(i+1));
          })(0);
        });
      })();
    </script>
    <span
      style="
        position: fixed;
        bottom: 2px;
        right: 4px;
        font-size: 9px;
        opacity: 0.35;
        color: #ffffff;
        z-index: 99999;
        pointer-events: none;
      "
    >
      Ivan Bagaturiya &mdash;
      <script>
        document.write(document.lastModified);
      </script>
    </span>
  </body>
</html>
